<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ph√°t √¢m - H·ªçc Ti·∫øng Ph·∫ßn Lan A1</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <a href="../index.html" class="logo">üá´üáÆ Suomi A1</a>
        <button class="menu-toggle" id="menuToggle">
            <span></span><span></span><span></span>
        </button>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="../index.html" class="logo">üá´üáÆ Suomi A1</a>
            <button class="dark-toggle" id="darkToggle">üåô</button>
        </div>
        <ul class="nav-menu">
            <li><a href="../index.html" class="nav-link"><span class="icon">üè†</span> Trang ch·ªß</a></li>
            <li><a href="alphabet.html" class="nav-link"><span class="icon">üî§</span> B·∫£ng ch·ªØ c√°i</a></li>
            <li><a href="pronunciation.html" class="nav-link active"><span class="icon">üéØ</span> Ph√°t √¢m</a></li>
            <li><a href="grammar.html" class="nav-link"><span class="icon">üìñ</span> Ng·ªØ ph√°p</a></li>
            <li><a href="verbs.html" class="nav-link"><span class="icon">‚ö°</span> Chia ƒë·ªông t·ª´</a></li>
            <li><a href="vocabulary.html" class="nav-link"><span class="icon">üìö</span> T·ª´ v·ª±ng</a></li>
            <li><a href="phrases.html" class="nav-link"><span class="icon">üí¨</span> M·∫´u c√¢u</a></li>
            <li><a href="practice.html" class="nav-link"><span class="icon">‚úèÔ∏è</span> Luy·ªán t·∫≠p</a></li>
            <li><a href="roadmap.html" class="nav-link"><span class="icon">üó∫Ô∏è</span> L·ªô tr√¨nh 30 ng√†y</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <section class="page-header">
            <h1>üéØ Quy t·∫Øc ph√°t √¢m ti·∫øng Ph·∫ßn Lan</h1>
            <p>Nguy√™n √¢m k√©p, ph·ª• √¢m k√©p v√† c√°c quy t·∫Øc quan tr·ªçng</p>
        </section>

        <!-- Key Rules -->
        <section class="info-box highlight">
            <h3>üîë Nguy√™n t·∫Øc v√†ng</h3>
            <ul>
                <li><strong>ƒê·ªçc nh∆∞ vi·∫øt:</strong> Ti·∫øng Ph·∫ßn Lan ph√°t √¢m g·∫ßn nh∆∞ ƒë√∫ng 100% theo c√°ch vi·∫øt</li>
                <li><strong>Tr·ªçng √¢m:</strong> Lu√¥n r∆°i v√†o √¢m ti·∫øt ƒê·∫¶U TI√äN</li>
                <li><strong>ƒê·ªô d√†i quan tr·ªçng:</strong> Ch·ªØ ƒë√¥i (aa, kk) ƒë·ªçc D√ÄI h∆°n ch·ªØ ƒë∆°n</li>
                <li><strong>H√†i h√≤a nguy√™n √¢m:</strong> A-O-U kh√¥ng ƒëi v·ªõi √Ñ-√ñ-Y trong c√πng m·ªôt t·ª´</li>
            </ul>
        </section>

        <!-- Vowels Section -->
        <section class="pronunciation-section">
            <h2 class="section-title">üî¥ Nguy√™n √¢m ƒë∆°n (8 nguy√™n √¢m)</h2>
            <div class="vowel-grid">
                <div class="vowel-card" onclick="speak('A')">
                    <span class="vowel">A</span>
                    <span class="ipa">/a/</span>
                    <span class="guide">nh∆∞ "a" trong "ba"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('auto')">auto (√¥ t√¥)</div>
                </div>
                <div class="vowel-card" onclick="speak('E')">
                    <span class="vowel">E</span>
                    <span class="ipa">/e/</span>
                    <span class="guide">nh∆∞ "e" trong "xe"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('hei')">hei (xin ch√†o)</div>
                </div>
                <div class="vowel-card" onclick="speak('I')">
                    <span class="vowel">I</span>
                    <span class="ipa">/i/</span>
                    <span class="guide">nh∆∞ "i" trong "di"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('is√§')">is√§ (b·ªë)</div>
                </div>
                <div class="vowel-card" onclick="speak('O')">
                    <span class="vowel">O</span>
                    <span class="ipa">/o/</span>
                    <span class="guide">nh∆∞ "√¥" trong "b√¥"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('koira')">koira (ch√≥)</div>
                </div>
                <div class="vowel-card" onclick="speak('U')">
                    <span class="vowel">U</span>
                    <span class="ipa">/u/</span>
                    <span class="guide">nh∆∞ "u" trong "bu"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('uusi')">uusi (m·ªõi)</div>
                </div>
                <div class="vowel-card special" onclick="speak('Y')">
                    <span class="vowel">Y</span>
                    <span class="ipa">/y/</span>
                    <span class="guide">‚ö†Ô∏è nh∆∞ "uy" trong "thu·ª∑"</span>
                    <div class="example" onclick="event.stopPropagation(); speak('yksi')">yksi (m·ªôt)</div>
                </div>
                <div class="vowel-card special" onclick="speak('√Ñ')">
                    <span class="vowel">√Ñ</span>
                    <span class="ipa">/√¶/</span>
                    <span class="guide">‚ö†Ô∏è "e" m·ªü mi·ªáng r·ªông</span>
                    <div class="example" onclick="event.stopPropagation(); speak('√§iti')">√§iti (m·∫π)</div>
                </div>
                <div class="vowel-card special" onclick="speak('√ñ')">
                    <span class="vowel">√ñ</span>
                    <span class="ipa">/√∏/</span>
                    <span class="guide">‚ö†Ô∏è "∆°" v·ªõi m√¥i tr√≤n</span>
                    <div class="example" onclick="event.stopPropagation(); speak('√∂ljy')">√∂ljy (d·∫ßu)</div>
                </div>
            </div>
        </section>

        <!-- Diphthongs -->
        <section class="pronunciation-section">
            <h2 class="section-title">üîµ Nguy√™n √¢m k√©p (Diphthongs)</h2>
            <p class="section-intro">Ti·∫øng Ph·∫ßn Lan c√≥ 18 nguy√™n √¢m k√©p. ƒê·ªçc li·ªÅn 2 √¢m, kh√¥ng t√°ch r·ªùi!</p>

            <div class="diphthong-groups">
                <!-- Group 1: ai, ei, oi, ui, yi, √§i, √∂i -->
                <div class="diphthong-group">
                    <h4>Nh√≥m k·∫øt th√∫c b·∫±ng -i</h4>
                    <div class="diphthong-list">
                        <div class="diphthong-item" onclick="speak('ai')">
                            <span class="diphthong">ai</span>
                            <span class="word" onclick="event.stopPropagation(); speak('aika')">aika (th·ªùi gian)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('ei')">
                            <span class="diphthong">ei</span>
                            <span class="word" onclick="event.stopPropagation(); speak('ei')">ei (kh√¥ng)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('oi')">
                            <span class="diphthong">oi</span>
                            <span class="word" onclick="event.stopPropagation(); speak('koira')">koira (ch√≥)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('ui')">
                            <span class="diphthong">ui</span>
                            <span class="word" onclick="event.stopPropagation(); speak('puisto')">puisto (c√¥ng vi√™n)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('yi')">
                            <span class="diphthong">yi</span>
                            <span class="word" onclick="event.stopPropagation(); speak('syit√§')">syit√§ (l√Ω do)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('√§i')">
                            <span class="diphthong">√§i</span>
                            <span class="word" onclick="event.stopPropagation(); speak('√§iti')">√§iti (m·∫π)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('√∂i')">
                            <span class="diphthong">√∂i</span>
                            <span class="word" onclick="event.stopPropagation(); speak('√∂inen')">√∂inen (ban ƒë√™m)</span>
                        </div>
                    </div>
                </div>

                <!-- Group 2: au, eu, iu, ou -->
                <div class="diphthong-group">
                    <h4>Nh√≥m k·∫øt th√∫c b·∫±ng -u</h4>
                    <div class="diphthong-list">
                        <div class="diphthong-item" onclick="speak('au')">
                            <span class="diphthong">au</span>
                            <span class="word" onclick="event.stopPropagation(); speak('auto')">auto (√¥ t√¥)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('eu')">
                            <span class="diphthong">eu</span>
                            <span class="word" onclick="event.stopPropagation(); speak('neula')">neula (kim)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('iu')">
                            <span class="diphthong">iu</span>
                            <span class="word" onclick="event.stopPropagation(); speak('viulu')">viulu (violin)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('ou')">
                            <span class="diphthong">ou</span>
                            <span class="word" onclick="event.stopPropagation(); speak('koulu')">koulu (tr∆∞·ªùng)</span>
                        </div>
                    </div>
                </div>

                <!-- Group 3: √§y, √∂y -->
                <div class="diphthong-group">
                    <h4>Nh√≥m k·∫øt th√∫c b·∫±ng -y</h4>
                    <div class="diphthong-list">
                        <div class="diphthong-item" onclick="speak('√§y')">
                            <span class="diphthong">√§y</span>
                            <span class="word" onclick="event.stopPropagation(); speak('t√§ysi')">t√§ysi (ƒë·∫ßy)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('√∂y')">
                            <span class="diphthong">√∂y</span>
                            <span class="word" onclick="event.stopPropagation(); speak('l√∂yly')">l√∂yly (h∆°i sauna)</span>
                        </div>
                    </div>
                </div>

                <!-- Group 4: ie, uo, y√∂ -->
                <div class="diphthong-group">
                    <h4>Nguy√™n √¢m k√©p m·ªü</h4>
                    <div class="diphthong-list">
                        <div class="diphthong-item" onclick="speak('ie')">
                            <span class="diphthong">ie</span>
                            <span class="word" onclick="event.stopPropagation(); speak('mies')">mies (ƒë√†n √¥ng)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('uo')">
                            <span class="diphthong">uo</span>
                            <span class="word" onclick="event.stopPropagation(); speak('suomi')">Suomi (Ph·∫ßn Lan)</span>
                        </div>
                        <div class="diphthong-item" onclick="speak('y√∂')">
                            <span class="diphthong">y√∂</span>
                            <span class="word" onclick="event.stopPropagation(); speak('y√∂')">y√∂ (ƒë√™m)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Double Vowels -->
        <section class="pronunciation-section">
            <h2 class="section-title">üü° Nguy√™n √¢m d√†i (Double Vowels)</h2>
            <p class="section-intro">Nguy√™n √¢m ƒë√¥i ƒë·ªçc D√ÄI G·∫§P ƒê√îI nguy√™n √¢m ƒë∆°n. R·∫•t quan tr·ªçng v√¨ thay ƒë·ªïi nghƒ©a!</p>

            <div class="double-vowel-grid">
                <div class="double-item" onclick="speak('aa')">
                    <span class="double">aa</span>
                    <div class="compare">
                        <span onclick="event.stopPropagation(); speak('talo')">talo (nh√†) vs</span>
                        <span onclick="event.stopPropagation(); speak('taalo')">taalo (ƒë·ªçc d√†i)</span>
                    </div>
                </div>
                <div class="double-item" onclick="speak('ee')">
                    <span class="double">ee</span>
                    <div class="example" onclick="event.stopPropagation(); speak('teen')">teen (t√¥i l√†m)</div>
                </div>
                <div class="double-item" onclick="speak('ii')">
                    <span class="double">ii</span>
                    <div class="example" onclick="event.stopPropagation(); speak('viisi')">viisi (nƒÉm)</div>
                </div>
                <div class="double-item" onclick="speak('oo')">
                    <span class="double">oo</span>
                    <div class="example" onclick="event.stopPropagation(); speak('koota')">koota (thu th·∫≠p)</div>
                </div>
                <div class="double-item" onclick="speak('uu')">
                    <span class="double">uu</span>
                    <div class="example" onclick="event.stopPropagation(); speak('uusi')">uusi (m·ªõi)</div>
                </div>
                <div class="double-item" onclick="speak('yy')">
                    <span class="double">yy</span>
                    <div class="example" onclick="event.stopPropagation(); speak('syy')">syy (l√Ω do)</div>
                </div>
                <div class="double-item" onclick="speak('√§√§')">
                    <span class="double">√§√§</span>
                    <div class="example" onclick="event.stopPropagation(); speak('p√§√§')">p√§√§ (ƒë·∫ßu)</div>
                </div>
                <div class="double-item" onclick="speak('√∂√∂')">
                    <span class="double">√∂√∂</span>
                    <div class="example" onclick="event.stopPropagation(); speak('y√∂')">√∂√∂ (trong t·ª´)</div>
                </div>
            </div>

            <div class="important-note">
                <h4>‚ö†Ô∏è Ch√∫ √Ω: ƒê·ªô d√†i thay ƒë·ªïi nghƒ©a!</h4>
                <div class="meaning-compare">
                    <div class="compare-pair" onclick="speak('tuli')">
                        <span class="word">tuli</span>
                        <span class="meaning">= l·ª≠a</span>
                    </div>
                    <div class="compare-pair" onclick="speak('tuuli')">
                        <span class="word">tuuli</span>
                        <span class="meaning">= gi√≥</span>
                    </div>
                </div>
                <div class="meaning-compare">
                    <div class="compare-pair" onclick="speak('muta')">
                        <span class="word">muta</span>
                        <span class="meaning">= b√πn</span>
                    </div>
                    <div class="compare-pair" onclick="speak('muuta')">
                        <span class="word">muuta</span>
                        <span class="meaning">= kh√°c</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Double Consonants -->
        <section class="pronunciation-section">
            <h2 class="section-title">üü¢ Ph·ª• √¢m k√©p (Double Consonants)</h2>
            <p class="section-intro">Ph·ª• √¢m ƒë√¥i ƒë·ªçc D√ÄI h∆°n, gi·ªØ √¢m l√¢u h∆°n tr∆∞·ªõc khi chuy·ªÉn √¢m ti·∫øt ti·∫øp theo.</p>

            <div class="consonant-grid">
                <div class="consonant-item" onclick="speak('kk')">
                    <span class="consonant">kk</span>
                    <div class="example" onclick="event.stopPropagation(); speak('kukka')">kukka (hoa)</div>
                </div>
                <div class="consonant-item" onclick="speak('pp')">
                    <span class="consonant">pp</span>
                    <div class="example" onclick="event.stopPropagation(); speak('kauppa')">kauppa (c·ª≠a h√†ng)</div>
                </div>
                <div class="consonant-item" onclick="speak('tt')">
                    <span class="consonant">tt</span>
                    <div class="example" onclick="event.stopPropagation(); speak('matto')">matto (th·∫£m)</div>
                </div>
                <div class="consonant-item" onclick="speak('ss')">
                    <span class="consonant">ss</span>
                    <div class="example" onclick="event.stopPropagation(); speak('kissa')">kissa (m√®o)</div>
                </div>
                <div class="consonant-item" onclick="speak('ll')">
                    <span class="consonant">ll</span>
                    <div class="example" onclick="event.stopPropagation(); speak('pallo')">pallo (qu·∫£ b√≥ng)</div>
                </div>
                <div class="consonant-item" onclick="speak('mm')">
                    <span class="consonant">mm</span>
                    <div class="example" onclick="event.stopPropagation(); speak('mummo')">mummo (b√†)</div>
                </div>
                <div class="consonant-item" onclick="speak('nn')">
                    <span class="consonant">nn</span>
                    <div class="example" onclick="event.stopPropagation(); speak('kunnon')">kunnon (t·ª≠ t·∫ø)</div>
                </div>
                <div class="consonant-item" onclick="speak('rr')">
                    <span class="consonant">rr</span>
                    <div class="example" onclick="event.stopPropagation(); speak('varro')">varro (ch·ªù)</div>
                </div>
            </div>

            <div class="important-note">
                <h4>‚ö†Ô∏è Ph·ª• √¢m ƒë∆°n vs k√©p thay ƒë·ªïi nghƒ©a!</h4>
                <div class="meaning-compare">
                    <div class="compare-pair" onclick="speak('taka')">
                        <span class="word">taka</span>
                        <span class="meaning">= sau</span>
                    </div>
                    <div class="compare-pair" onclick="speak('takka')">
                        <span class="word">takka</span>
                        <span class="meaning">= l√≤ s∆∞·ªüi</span>
                    </div>
                </div>
                <div class="meaning-compare">
                    <div class="compare-pair" onclick="speak('kuka')">
                        <span class="word">kuka</span>
                        <span class="meaning">= ai</span>
                    </div>
                    <div class="compare-pair" onclick="speak('kukka')">
                        <span class="word">kukka</span>
                        <span class="meaning">= hoa</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Consonant Clusters -->
        <section class="pronunciation-section">
            <h2 class="section-title">üü£ T·ªï h·ª£p ph·ª• √¢m ƒë·∫∑c bi·ªát</h2>

            <div class="cluster-grid">
                <div class="cluster-item">
                    <span class="cluster">nk</span>
                    <span class="guide">ƒë·ªçc nh∆∞ "ng-k"</span>
                    <div class="example" onclick="speak('Helsinki')">Helsinki</div>
                </div>
                <div class="cluster-item">
                    <span class="cluster">ng</span>
                    <span class="guide">ƒë·ªçc nh∆∞ "ng" d√†i</span>
                    <div class="example" onclick="speak('langet')">langet</div>
                </div>
                <div class="cluster-item">
                    <span class="cluster">nkk</span>
                    <span class="guide">ƒë·ªçc nh∆∞ "ng-kk"</span>
                    <div class="example" onclick="speak('pankki')">pankki (ng√¢n h√†ng)</div>
                </div>
            </div>
        </section>

        <!-- Stress Rules -->
        <section class="pronunciation-section">
            <h2 class="section-title">üìç Quy t·∫Øc tr·ªçng √¢m</h2>

            <div class="stress-rules">
                <div class="rule-card">
                    <h4>1. Tr·ªçng √¢m CH√çNH</h4>
                    <p>Lu√¥n r∆°i v√†o <strong>√¢m ti·∫øt ƒë·∫ßu ti√™n</strong></p>
                    <div class="stress-example" onclick="speak('Suomi')">
                        <span class="stressed">SUO</span>-mi
                    </div>
                    <div class="stress-example" onclick="speak('Helsinki')">
                        <span class="stressed">HEL</span>-sin-ki
                    </div>
                </div>

                <div class="rule-card">
                    <h4>2. Tr·ªçng √¢m PH·ª§</h4>
                    <p>R∆°i v√†o c√°c √¢m ti·∫øt l·∫ª (3, 5, 7...)</p>
                    <div class="stress-example" onclick="speak('ravintola')">
                        <span class="stressed">RA</span>-vin-<span class="secondary">TO</span>-la
                    </div>
                </div>

                <div class="rule-card">
                    <h4>3. T·ª´ gh√©p</h4>
                    <p>M·ªói ph·∫ßn c√≥ tr·ªçng √¢m ri√™ng</p>
                    <div class="stress-example" onclick="speak('lentokentt√§')">
                        <span class="stressed">LEN</span>-to-<span class="stressed">KENT</span>-t√§
                    </div>
                    <div class="stress-translate">(s√¢n bay = lento + kentt√§)</div>
                </div>
            </div>
        </section>

        <!-- Practice -->
        <section class="pronunciation-section">
            <h2 class="section-title">‚úèÔ∏è Luy·ªán ph√°t √¢m - H·ªçc ƒë√¢u luy·ªán ƒë√≥</h2>
            <p class="section-intro">üéôÔ∏è Nghe m·∫´u ‚Üí Ghi √¢m gi·ªçng b·∫°n ‚Üí So s√°nh ‚Üí Luy·ªán ƒë·∫øn khi chu·∫©n!</p>

            <div class="practice-pronunciation">
                <div class="practice-sentence" data-finnish="Hyv√§√§ huomenta!">
                    <div class="sentence-content">
                        <span class="fi">Hyv√§√§ huomenta!</span>
                        <span class="vi">Ch√†o bu·ªïi s√°ng!</span>
                        <span class="phonetic">[HUY-v√§√§ HUO-men-ta]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>

                <div class="practice-sentence" data-finnish="Minun nimeni on...">
                    <div class="sentence-content">
                        <span class="fi">Minun nimeni on...</span>
                        <span class="vi">T√™n t√¥i l√†...</span>
                        <span class="phonetic">[MI-nun NI-me-ni on]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>

                <div class="practice-sentence" data-finnish="Mit√§ kuuluu?">
                    <div class="sentence-content">
                        <span class="fi">Mit√§ kuuluu?</span>
                        <span class="vi">B·∫°n kh·ªèe kh√¥ng?</span>
                        <span class="phonetic">[MI-t√§ KUU-luu]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>

                <div class="practice-sentence" data-finnish="Kiitos paljon!">
                    <div class="sentence-content">
                        <span class="fi">Kiitos paljon!</span>
                        <span class="vi">C·∫£m ∆°n r·∫•t nhi·ªÅu!</span>
                        <span class="phonetic">[KII-tos PAL-yon]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>

                <div class="practice-sentence" data-finnish="Puhutko englantia?">
                    <div class="sentence-content">
                        <span class="fi">Puhutko englantia?</span>
                        <span class="vi">B·∫°n n√≥i ti·∫øng Anh kh√¥ng?</span>
                        <span class="phonetic">[PU-hut-ko ENG-lan-ti-a]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>

                <div class="practice-sentence" data-finnish="Ymm√§rr√§n v√§h√§n suomea.">
                    <div class="sentence-content">
                        <span class="fi">Ymm√§rr√§n v√§h√§n suomea.</span>
                        <span class="vi">T√¥i hi·ªÉu m·ªôt ch√∫t ti·∫øng Ph·∫ßn Lan.</span>
                        <span class="phonetic">[UYM-m√§r-r√§n V√Ñ-h√§n SUO-me-a]</span>
                    </div>
                    <div class="mastery-indicator">‚óã</div>
                </div>
            </div>
        </section>

        <!-- Tips -->
        <section class="tips-box">
            <h3>üí° M·∫πo luy·ªán ph√°t √¢m</h3>
            <ul>
                <li><strong>Nghe nhi·ªÅu:</strong> Xem YouTube, podcast ti·∫øng Ph·∫ßn Lan</li>
                <li><strong>ƒê·ªçc to:</strong> ƒê·ªçc to m·ªói t·ª´ √≠t nh·∫•t 5 l·∫ßn</li>
                <li><strong>Ghi √¢m:</strong> So s√°nh v·ªõi ph√°t √¢m chu·∫©n</li>
                <li><strong>Ch√∫ √Ω ƒë·ªô d√†i:</strong> Ph√¢n bi·ªát r√µ √¢m ƒë∆°n v√† √¢m ƒë√¥i</li>
                <li><strong>Luy·ªán Y, √Ñ, √ñ:</strong> ƒê√¢y l√† c√°c √¢m kh√≥ nh·∫•t v·ªõi ng∆∞·ªùi Vi·ªát</li>
            </ul>
        </section>

        <!-- Navigation -->
        <div class="page-nav">
            <a href="alphabet.html" class="nav-btn prev">‚Üê B·∫£ng ch·ªØ c√°i</a>
            <a href="grammar.html" class="nav-btn next">Ng·ªØ ph√°p ‚Üí</a>
        </div>
    </main>

    <!-- Overlay for mobile menu -->
    <div class="overlay" id="overlay"></div>

    <script src="../js/data.js"></script>
    <script src="../js/app.js"></script>
    <script>
        // ====================================
        // INLINE RECORDING - H·ªçc ƒë√¢u luy·ªán ƒë√≥
        // ====================================
        const pronRecordings = new Map();
        const practicedPron = JSON.parse(localStorage.getItem('practicedPronunciation') || '{}');
        let activeRecorder = null;
        let activeCardId = null;

        // Add inline controls to practice sentences
        document.querySelectorAll('.practice-sentence').forEach((sentence, index) => {
            const finnish = sentence.dataset.finnish;
            const cardId = `pron-${index}-${finnish.replace(/\s+/g, '-').substring(0, 15)}`;
            sentence.dataset.cardId = cardId;
            sentence.style.position = 'relative';

            // Update mastery indicator
            const mastery = sentence.querySelector('.mastery-indicator');
            if (practicedPron[cardId]) {
                mastery.innerHTML = '‚úì';
                mastery.classList.add('practiced');
            }

            // Inline controls
            const controls = document.createElement('div');
            controls.className = 'inline-audio-controls';
            controls.innerHTML = `
                <button class="inline-btn listen" title="Nghe ph√°t √¢m chu·∫©n">üîä Nghe</button>
                <button class="inline-btn record" title="Ghi √¢m gi·ªçng c·ªßa b·∫°n">üéôÔ∏è Ghi √¢m</button>
                <button class="inline-btn play" title="Nghe l·∫°i gi·ªçng c·ªßa b·∫°n" disabled>‚ñ∂Ô∏è Ph√°t l·∫°i</button>
                <div class="recording-status"></div>
                <div class="comparison-mini">
                    <button class="compare-standard" title="Nghe chu·∫©n">üîä Chu·∫©n</button>
                    <button class="compare-yours" title="Nghe b·∫°n">üé§ B·∫°n</button>
                </div>
            `;
            sentence.appendChild(controls);

            // Event listeners
            const listenBtn = controls.querySelector('.listen');
            const recordBtn = controls.querySelector('.record');
            const playBtn = controls.querySelector('.play');
            const statusDiv = controls.querySelector('.recording-status');
            const comparisonDiv = controls.querySelector('.comparison-mini');

            listenBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                speak(finnish);
            });

            recordBtn.addEventListener('click', async (e) => {
                e.stopPropagation();
                if (recordBtn.classList.contains('recording')) {
                    stopRecording(cardId, recordBtn, playBtn, statusDiv, comparisonDiv, mastery);
                } else {
                    await startRecording(cardId, finnish, recordBtn, statusDiv);
                }
            });

            playBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                const recording = pronRecordings.get(cardId);
                if (recording) {
                    new Audio(URL.createObjectURL(recording)).play();
                }
            });

            comparisonDiv.querySelector('.compare-standard').addEventListener('click', (e) => {
                e.stopPropagation();
                speak(finnish);
            });

            comparisonDiv.querySelector('.compare-yours').addEventListener('click', (e) => {
                e.stopPropagation();
                const recording = pronRecordings.get(cardId);
                if (recording) {
                    new Audio(URL.createObjectURL(recording)).play();
                }
            });

            // Click on sentence content to listen
            sentence.querySelector('.sentence-content').addEventListener('click', () => {
                speak(finnish);
            });
        });

        async function startRecording(cardId, finnish, recordBtn, statusDiv) {
            // Stop any active recording first
            if (activeRecorder && activeCardId !== cardId) {
                const activeCard = document.querySelector(`[data-card-id="${activeCardId}"]`);
                if (activeCard) {
                    const btn = activeCard.querySelector('.record');
                    const play = activeCard.querySelector('.play');
                    const status = activeCard.querySelector('.recording-status');
                    const comp = activeCard.querySelector('.comparison-mini');
                    const mast = activeCard.querySelector('.mastery-indicator');
                    stopRecording(activeCardId, btn, play, status, comp, mast);
                }
            }

            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                const recorder = new MediaRecorder(stream);
                const chunks = [];

                recorder.ondataavailable = (e) => chunks.push(e.data);
                recorder.onstop = () => {
                    const blob = new Blob(chunks, { type: 'audio/webm' });
                    pronRecordings.set(cardId, blob);
                    stream.getTracks().forEach(track => track.stop());
                };

                recorder.start();
                activeRecorder = recorder;
                activeCardId = cardId;

                recordBtn.classList.add('recording');
                recordBtn.innerHTML = '‚èπÔ∏è D·ª´ng';
                statusDiv.textContent = '‚óè ƒêang ghi...';
                statusDiv.classList.add('active');

                // Auto stop after 5 seconds
                setTimeout(() => {
                    if (activeRecorder === recorder && recorder.state === 'recording') {
                        const card = document.querySelector(`[data-card-id="${cardId}"]`);
                        if (card) {
                            const btn = card.querySelector('.record');
                            const play = card.querySelector('.play');
                            const status = card.querySelector('.recording-status');
                            const comp = card.querySelector('.comparison-mini');
                            const mast = card.querySelector('.mastery-indicator');
                            stopRecording(cardId, btn, play, status, comp, mast);
                        }
                    }
                }, 5000);

            } catch (err) {
                alert('Kh√¥ng th·ªÉ truy c·∫≠p microphone. Vui l√≤ng cho ph√©p quy·ªÅn.');
            }
        }

        function stopRecording(cardId, recordBtn, playBtn, statusDiv, comparisonDiv, mastery) {
            if (activeRecorder && activeRecorder.state === 'recording') {
                activeRecorder.stop();
            }

            recordBtn.classList.remove('recording');
            recordBtn.innerHTML = 'üéôÔ∏è Ghi l·∫°i';
            statusDiv.textContent = '‚úì ƒê√£ ghi xong';
            statusDiv.classList.remove('active');

            setTimeout(() => {
                playBtn.disabled = false;
                comparisonDiv.classList.add('active');
                statusDiv.textContent = '';

                // Mark as practiced
                practicedPron[cardId] = true;
                localStorage.setItem('practicedPronunciation', JSON.stringify(practicedPron));
                mastery.innerHTML = '‚úì';
                mastery.classList.add('practiced');
            }, 300);

            activeRecorder = null;
            activeCardId = null;
        }

        // Keep click-to-speak for learning sections (vowels, diphthongs, consonants)
        // These are for quick reference, not practice
    </script>
</body>
</html>
